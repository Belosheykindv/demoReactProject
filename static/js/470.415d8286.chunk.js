"use strict";(self.webpackChunkmy_first_app=self.webpackChunkmy_first_app||[]).push([[470],{44470:function(e,n,r){r.r(n);var t=r(29439),s=r(72791),u=r(11087),i=r(64502),c=r(78687),o=r(48876),a=r(47488),l=r(39108),f=r(87781),h=r(80184),d=function(){var e=(0,c.I0)();return(0,s.useEffect)((function(){return e((0,o.WE)()),function(){e((0,o.R7)()),e((0,o.SK)())}}),[]),(0,h.jsxs)("div",{children:[(0,h.jsx)(v,{}),(0,h.jsx)(j,{})]})},v=function(){var e=(0,c.v9)((function(e){return e.chat.messages}));return(0,h.jsx)("div",{style:{height:"800px",overflowY:"auto"},children:e.map((function(e,n){return(0,h.jsx)(x,{message:e,id:e},e.id)}))})},x=s.memo((function(e){var n=e.message;console.log("\u041e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430 \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439");var r=(0,s.useRef)(null);return(0,s.useEffect)((function(){!function(){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[n]),(0,h.jsxs)("div",{ref:r,children:[(0,h.jsx)(u.OL,{to:"/profile/"+n.userId,children:(0,h.jsx)("img",{style:{height:50,width:40},src:n.photo})})," ",(0,h.jsx)("b",{children:n.userName}),(0,h.jsx)("br",{}),n.message,(0,h.jsx)("hr",{})]})})),j=function(){var e=(0,s.useState)(),n=(0,t.Z)(e,2),r=n[0],u=n[1],l=(0,c.I0)(),f=(0,c.v9)((function(e){return e.chat.status})),d=(0,s.useRef)(null),v=(0,s.useState)(!1),x=(0,t.Z)(v,2),j=x[0],m=x[1];return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(i.Z,{size:"large",showCount:!0,maxLength:100,onInput:function(e){return u(e.currentTarget.value)},ref:d,name:"chatInput",onChange:function(e){return function(e){m(""!=e)}(e.currentTarget.value)},value:r,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:j?a.Z.btn:a.Z.disBtn,disabled:"ready"!==f&&!0!==j,onClick:function(){if(!r)return m(!1);l((0,o.bG)(r)),u(""),m(!1)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})};n.default=(0,f.qC)(l.D)((function(){return(0,h.jsx)("div",{children:(0,h.jsx)(d,{})})}))}}]);
//# sourceMappingURL=470.415d8286.chunk.js.map