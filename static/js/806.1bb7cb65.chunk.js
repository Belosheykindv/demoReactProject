"use strict";(self.webpackChunkmy_first_app=self.webpackChunkmy_first_app||[]).push([[806],{16806:function(e,s,o){o.r(s),o.d(s,{default:function(){return x}});var n=o(72791),r=o(78687),t=o(85773),l=o(11087),i=o(22696),g="users_item__tAqf6",u="users_button__2mJq+",a=o(53789),c=o(78023),d=o(93296),f=o(31875),h=(o(77720),o(80184)),P=function(e){var s=d.Z.useToken().token,o=s.colorBgContainer,n=s.borderRadiusLG;return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{showSizeChanger:!1,showQuickJumper:!0,onChange:function(s){e.onPageChanged(s)},defaultPageSize:e.pageSize,defaultCurrent:1,total:e.totalUsersCount,showTotal:function(e){return"".concat(e," users")}})}),e.users.map((function(s){return(0,h.jsxs)("div",{style:{margin:"12px 8px",padding:12,background:o,borderRadius:n},children:[" ",(0,h.jsx)("hr",{}),(0,h.jsxs)("span",{children:[(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("div",{children:(0,h.jsx)(l.OL,{to:"/profile/"+s.id,children:(0,h.jsx)("img",{src:null!=s.photos.small?s.photos.small:i})})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:["\u0418\u043c\u044f - ",(0,h.jsx)("b",{children:s.name})]})," ",(0,h.jsx)("br",{}),(0,h.jsxs)("span",{children:[" \u0421\u0442\u0430\u0442\u0443\u0441 - ",s.status||"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"]})]})]}),(0,h.jsx)("div",{className:u,children:s.followed?(0,h.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===s.id})),onClick:function(){e.togglefollowingProgress(!0,s.id),a.Db.delete(s.id).then((function(o){0===o.resultCode&&e.unfollow(s.id),e.togglefollowingProgress(!1,s.id)}))},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,h.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===s.id})),onClick:function(){e.togglefollowingProgress(!0,s.id),a.Db.post(s.id).then((function(o){0===o.resultCode&&e.follow(s.id),e.togglefollowingProgress(!1,s.id)}))},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]}),(0,h.jsx)("span",{})]},(0,c.Z)())}))]})},p=o(25998),w=o(57689),j=o(39108),x=(0,o(87781).qC)((0,r.$j)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{getUsers:t.Rf,getPageUsers:t.PE,follow:t.ZN,unfollow:t.fv,setUsers:t.HM,setCurrentPage:t.D4,setTotalUsersCount:t.K1,toggleIsFetching:t.MO,togglefollowingProgress:t.Kj}),j.D)((function(e){(0,n.useEffect)((function(){e.toggleIsFetching(!0),e.getUsers(e.pageSize),e.setCurrentPage(1)}),[]);return!1===e.auth?(0,h.jsx)(w.Fg,{to:"/login"}):(0,h.jsxs)(h.Fragment,{children:[e.isFetching?(0,h.jsx)(p.Z,{}):null,(0,h.jsx)(P,{onPageChanged:function(s){e.toggleIsFetching(!0);var o=Math.ceil(e.totalUsersCount/e.pageSize)-s+1;console.log(o),e.setCurrentPage(s),e.getPageUsers(e.pageSize,o)},pageSize:e.pageSize,totalUsersCount:e.totalUsersCount,currentPage:e.currentPage,follow:e.follow,unfollow:e.unfollow,users:e.users,followingInProgress:e.followingInProgress,togglefollowingProgress:e.togglefollowingProgress})]})}))}}]);
//# sourceMappingURL=806.1bb7cb65.chunk.js.map