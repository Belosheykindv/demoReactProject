"use strict";(self.webpackChunkmy_first_app=self.webpackChunkmy_first_app||[]).push([[4],{28004:function(e,s,t){t.r(s),t.d(s,{default:function(){return ee},withRouter:function(){return X}});var i=t(1413),n=t(28381),o=t(77080),r=t(29439),l="ProfileInfo_profile__DKHaQ",d="ProfileInfo_infoBlock__cfsGP",a="ProfileInfo_photoBlock__rkBMR",c="ProfileInfo_contact__Oa830",u="ProfileInfo_key__tdQe2",f="ProfileInfo_aboutMeBlock__UZxU-",h="ProfileInfo_field__CkngA",p="ProfileInfo_hideUnput__L12Nu",x=t(22696),j=t(70599),m=t(79400),v=t(12428),b=t(41648),_=t(5188),I=t(31801),g=t(7912),P=t(42524),k=t(29343),M=function(e){console.log("\u0420\u044d\u043d\u0434\u0435\u0440 \u0441\u0442\u0430\u0442\u0443\u0441");var s=(0,o.v9)((function(e){return e.profilePage.profileStatus})),t=(0,P.UO)(),i=(0,n.useState)(!1),l=(0,r.Z)(i,2),d=l[0],a=l[1],c=(0,n.useState)(s),u=(0,r.Z)(c,2),f=u[0],h=u[1],p=(0,o.I0)();return(0,k.jsxs)("div",{children:[!d&&(0,k.jsx)("div",{children:(0,k.jsxs)("span",{onClick:function(){console.log("\u042d\u0434\u0438\u0442 \u043c\u043e\u0434"),t.userId||a(!0)},children:[(0,k.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 - "}),s||"\u043f\u0443\u0441\u0442\u043e"]})}),d&&(0,k.jsxs)("div",{children:[(0,k.jsx)("input",{onChange:function(e){h(e.currentTarget.value)},autoFocus:!0,defaultValue:s}),(0,k.jsx)("button",{onClick:function(){console.log("\u042d\u0434\u0438\u0442 \u043c\u043e\u04342"),a(!1),p((0,g.lF)(f))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},N=(0,v.DT)(14),y=(0,v.DT)(30),A=(0,v.DT)(40),Z=function(e){var s=e.profile,t=e.ownerId,i=e.updateAboutMe,o=e.userId,l=e.key,d=(0,n.useState)(!1),a=(0,r.Z)(d,2),c=a[0],u=a[1];return(0,k.jsx)("div",{children:c?(0,k.jsx)("div",{children:(0,k.jsx)(B,{profile:s,updateAboutMe:i,editModeOff:function(){u(!1)}},l)}):(0,k.jsxs)("div",{children:[" ",(0,k.jsx)(S,{profile:s,userId:o,editModeOn:function(){u(!0)},ownerId:t},l)]})})},C=function(e){var s=e.contactTitle,t=e.contactValue;return(0,k.jsxs)("div",{children:[" ",(0,k.jsx)("b",{children:s}),": ",t," "]})},S=function(e){var s=e.profile,t=e.userId,i=e.editModeOn;return(0,k.jsxs)("div",{children:[!t&&(0,k.jsx)("label",{htmlFor:"editAboutMe",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),!t&&(0,k.jsx)("button",{onClick:i,id:"editAboutMe",style:{opacity:0},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,k.jsx)("div",{children:(0,k.jsx)(M,{})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"\u041a\u0442\u043e \u044f - "}),s.fullName]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435 - "})," ",s.aboutMe]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b - "}),s.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b - "}),s.lookingForAJobDescription]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),Object.keys(s.contacts).map((function(e){return(0,k.jsxs)("div",{className:c,children:[(0,k.jsx)(C,{contactTitle:e,contactValue:s.contacts[e]||"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})," "]},e)}))]})]})},B=function(e){var s=e.updateAboutMe,t=e.profile,i=e.editModeOff;return(0,k.jsx)(U,{onSubmit:function(e){s(e).then((function(){i()}))},initialValues:t,profile:t})},U=(0,_.Z)({form:"aboutMe",enableReinitialize:!0})((function(e){var s=e.handleSubmit,t=e.profile,i=e.error;return(0,k.jsxs)("form",{onSubmit:s,children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("div",{className:u,children:"\u041a\u0442\u043e \u044f"}),(0,k.jsx)("div",{className:h,children:(0,k.jsx)(b.Z,{name:"fullName",component:I.Vb,validate:[v.C1,N],fieldType:"input"})})]}),(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("div",{className:u,children:" \u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 - "}),(0,k.jsx)("div",{className:h,children:(0,k.jsx)(b.Z,{name:"lookingForAJob",component:I.Vb,type:"checkbox",fieldType:"input"})})]}),(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("div",{className:u,children:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b -"}),(0,k.jsx)("div",{className:h,children:(0,k.jsx)(b.Z,{name:"lookingForAJobDescription",validate:[v.C1,N],component:I.Vb,fieldType:"input"})})]}),(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("div",{className:u,children:" \u041e\u0431\u043e \u043c\u043d\u0435 - "}),(0,k.jsx)("div",{className:h,children:(0,k.jsx)(b.Z,{name:"aboutMe",component:I.Vb,validate:[v.C1,y],fieldType:"input"})})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),Object.keys(t.contacts).map((function(e){return(0,k.jsxs)("div",{className:c,children:[(0,k.jsx)("div",{className:u,children:e}),(0,k.jsx)("div",{className:h,children:(0,k.jsx)(b.Z,{validate:[A],name:"contacts."+e,component:I.Vb,fieldType:"input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 - "+e})})]},e)}))]}),i&&(0,k.jsxs)("div",{className:m.Z.formSummaryError,children:[" ",i," "]}),(0,k.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),w=n.memo((function(e){var s=(0,n.useState)(!1),t=(0,r.Z)(s,2),i=t[0],o=t[1],c=(0,n.useState)(!1),u=(0,r.Z)(c,2),f=(u[0],u[1]);if(!e.profile)return(0,k.jsx)(j.Z,{});return(0,k.jsx)("div",{children:(0,k.jsxs)("div",{className:l,children:[(0,k.jsxs)("div",{className:a,children:[!e.userId&&(0,k.jsx)("label",{htmlFor:"upload-photo",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0444\u043e\u0442\u043e"}),(0,k.jsx)("img",{src:e.profile.photos.large||x}),i&&(0,k.jsx)("div",{style:{border:"2px",color:"red"},children:" \u0424\u0430\u0439\u043b \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 4\u041c\u0411 "}),!e.userId&&(0,k.jsx)("input",{className:p,id:"upload-photo",onChange:function(s){if(s.target.files[0].size>=4e6)return o(!0);f(!0),s.target.files.length&&(e.updateUserPhoto(s.target.files[0]),o(!1),f(!1))},type:"file"})]}),(0,k.jsx)("div",{className:d,children:(0,k.jsx)("div",{children:(0,k.jsx)(Z,{profile:e.profile,userId:e.userId,ownerId:e.ownerId,updateAboutMe:e.updateAboutMe,editModeAboutMe:e.editModeAboutMe,status:e.userStatus},e.key)})})]})})})),F={MyPostsClass:"MyPosts_MyPostsClass__nRfqi",inputBlock:"MyPosts_inputBlock__jOkuq",textBlock:"MyPosts_textBlock__gFI2h",btnBlock:"MyPosts_btnBlock__9MDle"},T="Post_postContainer__rhE20",O="Post_imgContainer__wsgdn",D="Post_msgContainer__FFWET",E="Post_btnContainer__GjFL1",V="Post_likeBtn__lItlp",q="Post_shareBtn__rCBE9",L="Post_delBtn__Akvj9",R=t(82108),z=n.memo((function(e){var s=(0,o.I0)();return(0,k.jsxs)("div",{className:T,children:[(0,k.jsxs)("div",{className:O,children:[" ",(0,k.jsx)("img",{src:e.img})]}),(0,k.jsx)("div",{className:D,children:e.message}),(0,k.jsxs)("div",{className:E,children:[(0,k.jsxs)("div",{className:V,children:[e.likesCount,(0,k.jsx)(R.ZP,{ghost:!0,size:"small",onClick:function(){var t=e.postId;s((0,g.dE)(t))},type:"default",children:"\u2764\ufe0f"})," "]}),(0,k.jsxs)("div",{className:q,children:[e.share,(0,k.jsx)(R.ZP,{ghost:!0,size:"small",type:"default",children:"\u2709"})]})]}),(0,k.jsx)("div",{className:L,children:(0,k.jsx)(R.ZP,{onClick:function(){var t=e.postId;s((0,g.fR)(t))},type:"default",ghost:!0,children:"\u274c"})})]},e.postId)})),J=t(35144),G=t(30013),H=function(e){var s=(0,n.useState)(!1),t=(0,r.Z)(s,2),i=t[0],l=t[1],d=J.Z.useForm(),a=(0,r.Z)(d,1)[0],c=(0,o.I0)(),u=e.profilePage.posts.map((function(e){return(0,k.jsx)(z,{postId:e.id,message:e.message,likesCount:e.likesCount,share:e.share,img:e.imgSrc},e.id)})),f=Number(e.router.params.userId||e.ownerUserId);document.getElementById("addNewPost");return f?null:(0,k.jsx)("div",{className:F.profile,children:(0,k.jsxs)("div",{className:F.MyPostsClass,children:[(0,k.jsx)("h3",{children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b (\u0425\u0430\u0440\u0434\u043a\u043e\u0434 \u0411\u0435\u0437 API)"}),(0,k.jsx)("div",{children:(0,k.jsxs)(J.Z,{className:F.inputBlock,onFinish:function(e){c((0,g.q2)(e.postInput)),a.resetFields(["postInput"]),l(!1)},onFinishFailed:function(e){console.log("Failed:",e)},form:a,children:[(0,k.jsx)(J.Z.Item,{name:"postInput",className:F.textBlock,children:(0,k.jsx)(G.Z,{name:"postInput",showCount:!0,maxLength:600,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onInput:function(e){!function(e){l(""!=e)}(e.currentTarget.value)}})}),(0,k.jsx)(J.Z.Item,{className:F.btnBlock,children:(0,k.jsx)(R.ZP,{disabled:1!=i,className:F.btnBlock,htmlType:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})}),(0,k.jsx)("div",{children:u})]})})},Q=t(81028),W=t(84479),$=t(81261),K=(0,W.qC)((0,o.$j)((function(e){return{profilePage:e.profilePage,isAuth:e.auth.isAuth,ownerId:e.auth.id}}),{}),$.E,Q.D)(H),Y=function(e){return(0,k.jsxs)("div",{children:[(0,k.jsx)(w,{profile:e.profile,userId:e.userId,ownerId:e.ownerId,userStatus:e.userStatus,updateAboutMe:e.updateAboutMe,savePhoto:e.savePhoto,updateUserPhoto:e.updateUserPhoto,editModeAboutMe:e.editModeAboutMe},e.key),(0,k.jsx)(K,{})]})};function X(e){return function(s){var t=(0,P.TH)(),n=(0,P.s0)(),o=(0,P.UO)();return(0,k.jsx)(e,(0,i.Z)((0,i.Z)({},s),{},{router:{location:t,navigate:n,params:o}}))}}var ee=(0,W.qC)((0,o.$j)((function(e){return{profile:e.profilePage.profile,userStatus:e.profilePage.profileStatus,ownerUserId:e.auth.id,editModeAboutMe:e.profilePage.editModeAboutMe,key:e.profilePage.key}}),{getUserProfile:g.et,getUserProfileStatus:g.WO,updateAboutMe:g.LY,updateUserPhoto:g.DO,maxLengthCreator:v.DT}),X,Q.D)((function(e){console.log("\u0412\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u043f\u0440\u043e\u0444\u0430\u0439\u043b");return(0,n.useEffect)((function(){!function(){var s=e.router.params.userId||e.ownerUserId;e.getUserProfile(s),e.getUserProfileStatus(s)}()}),[e.router.params.userId]),(0,k.jsx)("div",{children:(0,n.createElement)(Y,(0,i.Z)((0,i.Z)({},e),{},{profile:e.profile,userId:e.router.params.userId,ownerId:e.ownerUserId,userStatus:e.userStatus,updateAboutMe:e.updateAboutMe,updateUserPhoto:e.updateUserPhoto,editModeAboutMe:e.editModeAboutMe,key:e.key}))})}))}}]);
//# sourceMappingURL=4.c1a2a1d8.chunk.js.map